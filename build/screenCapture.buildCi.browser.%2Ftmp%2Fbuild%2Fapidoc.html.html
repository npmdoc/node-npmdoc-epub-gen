<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/cyrilis/epub-gen">epub-gen (v0.0.17)</a>
</h1>
<h4>A library to generate EPUB from HTML</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.epub-gen">module epub-gen</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.epub-gen.epub-gen">
            function <span class="apidocSignatureSpan"></span>epub-gen
            <span class="apidocSignatureSpan">(options, output)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.epub-gen" id="apidoc.module.epub-gen">module epub-gen</a></h1>


    <h2>
        <a href="#apidoc.element.epub-gen.epub-gen" id="apidoc.element.epub-gen.epub-gen">
        function <span class="apidocSignatureSpan"></span>epub-gen
        <span class="apidocSignatureSpan">(options, output)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EPub(options, output) {
  var self;
  this.options = options;
  self = this;
  this.defer = new Q.defer();
  if (output) {
    this.options.output = output;
  }
  if (!this.options.output) {
    console.error(new Error("No Output Path"));
    this.defer.reject(new Error("No output path"));
    return;
  }
  if (!options.title || !options.content) {
    console.error(new Error("Title and content are both required"));
    this.defer.reject(new Error("Title and content are both required"));
    return;
  }
  this.options = _.extend({
    description: options.title,
    publisher: "anonymous",
    author: ["anonymous"],
    tocTitle: "Table Of Contents",
    appendChapterTitles: true,
    date: new Date().toISOString(),
    lang: "en",
    fonts: [],
    customOpfTemplatePath: null,
    customNcxTocTemplatePath: null,
    customHtmlTocTemplatePath: null,
    version: 3
  }, options);
  if (this.options.version === 2) {
    this.options.docHeader = "&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.1//EN\" \"
http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"" + self.options.lang + "\"&gt;";
  } else {
    this.options.docHeader = "&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/
xhtml\" lang=\"" + self.options.lang + "\"&gt;";
  }
  if (_.isString(this.options.author)) {
    this.options.author = [this.options.author];
  }
  if (_.isEmpty(this.options.author)) {
    this.options.author = ["anonymous"];
  }
  if (!this.options.tempDir) {
    this.options.tempDir = path.resolve(__dirname, "../tempDir/");
  }
  this.id = uuid();
  this.uuid = path.resolve(this.options.tempDir, this.id);
  this.options.uuid = this.uuid;
  this.options.id = this.id;
  this.options.images = [];
  this.options.content = _.map(this.options.content, function(content, index) {
    var $, allowedAttributes, allowedXhtml11Tags, titleSlug;
    if (!content.filename) {
      titleSlug = uslug(removeDiacritics(content.title || "no title"));
      content.href = index + "_" + titleSlug + ".xhtml";
      content.filePath = path.resolve(self.uuid, "./OEBPS/" + index + "_" + titleSlug + ".xhtml");
    } else {
      content.href = content.filename.match(/\.xhtml$/) ? content.filename : content.filename + ".xhtml";
      console.log(content.href);
      if (content.filename.match(/\.xhtml$/)) {
        content.filePath = path.resolve(self.uuid, "./OEBPS/" + content.filename);
      } else {
        content.filePath = path.resolve(self.uuid, "./OEBPS/" + content.filename + ".xhtml");
      }
    }
    content.id = "item_" + index;
    content.dir = path.dirname(content.filePath);
    content.excludeFromToc || (content.excludeFromToc = false);
    content.beforeToc || (content.beforeToc = false);
    content.author = content.author &amp;&amp; _.isString(content.author) ? [content.author] : !content.author || !_.isArray(content.author
) ? [] : content.author;
    allowedAttributes = ["content", "alt", "id", "title", "src", "href", "about", "accesskey", "aria-activedescendant", "aria-atomic
", "aria-autocomplete", "aria-busy", "aria-checked", "aria-controls", "aria-describedat", "aria-describedby", "aria-disabled", "
aria-dropeffect", "aria-expanded", "aria-flowto", "aria-grabbed", "aria-haspopup", "aria-hidden", "aria-invalid", "aria-label", "
aria-labelledby", "aria-level", "aria-live", "aria-multiline", "aria-multiselectable", "aria-orientation", "aria-owns", "aria-posinset
", "aria-pressed", "aria-readonly", "aria-relevant", "aria-required", "aria-selected", "aria-setsize", "aria-sort", "aria-valuemax
", "aria-valuemin", "aria-valuenow", "aria-valuetext", "class", "content", "contenteditable", "contextmenu", "datatype", "dir", "
draggable", "dropzone", "hidden", "hreflang", "id", "inlist", "itemid", "itemref", "itemscope", "itemtype", "lang", "media", "ns1
:type", "ns2:alphabet", "ns2:ph", "onabort", "onblur", "oncanplay", "oncanplaythrough", "onchange", "onclick", "oncontextmenu", "
ondblclick", "ondrag", "ondragend", "ondragent ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>